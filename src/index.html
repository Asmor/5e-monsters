<!DOCTYPE html>
<html class="h-full">
<head>
	<title>Kobold Plus Fight Club - The first rule of Kobold Fight Club is 'Yip Yip!'</title>
	<meta charset="utf-8">
	<link rel="manifest" href="../manifest.json">
	<link rel="apple-touch-icon" href="images/logo.png" sizes="600x600">
	<link rel="icon" href="images/logo.png" sizes="600x600">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600" rel="stylesheet">
	<script defer src="js/app.js"></script>
<!--	<script defer src="https://unpkg.com/alpinejs@3.8.1/dist/cdn.min.js"></script>-->
<!--	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />-->
	<link href="css/styles.css" rel="stylesheet">

	<!-- Include Choices CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css"/>

	<!-- Include Choices JavaScript (latest) -->
	<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>

	<script>
		// On page load or when changing themes, best to add inline in `head` to avoid FOUC
		if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
			window.theme = 'dark'
			document.documentElement.classList.add('dark')
		} else {
			window.theme = 'light'
			document.documentElement.classList.remove('dark')
			localStorage.theme = 'light'
		}

		window.toggleTheme = function() {
			let theme = (localStorage.theme === 'dark' ? 'light' : 'dark');
			window.theme = theme;
			localStorage.theme = theme;
			document.documentElement.classList.toggle('dark', theme === 'dark');

			return theme
		}
	</script>
</head>

<body class="h-full">
	<div
		class="min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-300"
		x-data="window.app()"
		@filters-changed.window="filtersChanged"
	>

		<div @click="window.toggleTheme()" class="absolute bottom-2 left-2 h-12 w-12 cursor-pointer text-gray-500 grid place-items-center bg-gray-100 border rounded border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:hover:bg-gray-700 dark:text-gray-300"><i class="fa fa-moon text-gray-800 dark:text-gray-300"></i></div>

		<nav class="bg-emerald-700 border-b border-gray-200 dark:border-gray-900" x-data="{ menu: false }">
			<div class="mx-auto px-4 sm:px-6 lg:px-6">
				<div class="flex justify-between h-16 w-full">
					<div class="flex">
						<div class="flex-shrink-0 flex items-center">
							<a href="" class="flex items-center">
								<img class="h-8 w-auto" src="images/header_logo.png" alt="Fantasy Calendar"> <span class="hidden md:inline pl-2 text-lg font-bold text-white">Kobold+ Fight Club</span>
							</a>
						</div>
					</div>
					<div class="hidden sm:flex text-white sm:-my-px sm:ml-6 sm:space-x-8 items-center">
                        <a href="" class="inline-flex items-center px-1 pt-1 text-sm font-medium text-emerald-300 hover:text-white hover:border-gray-300">Home</a>
                        <a href="" class="inline-flex items-center px-1 pt-1 text-sm font-medium text-emerald-300 hover:text-white hover:border-gray-300">Manage Encounters</a>
                        <a href="" class="inline-flex items-center px-1 pt-1 text-sm font-medium text-emerald-300 hover:text-white hover:border-gray-300">Manage Players</a>
                        <a href="" class="inline-flex items-center px-1 pt-1 text-sm font-medium text-emerald-300 hover:text-white hover:border-gray-300">Run Encounters</a>
                        <a href="" class="inline-flex items-center px-1 pt-1 text-sm font-medium text-emerald-300 hover:text-white hover:border-gray-300">Fantasy Calendar</a>
                        <a href="" class="inline-flex items-center px-1 pt-1 text-sm font-medium text-emerald-300 hover:text-white hover:border-gray-300">About</a>
					</div>
					<div class="-mr-2 flex items-center sm:hidden">
						<button class="inline-flex items-center justify-center p-2 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white" @click="menu = !menu">
							<span class="sr-only">Open main menu</span>
							<svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
							</svg>
							<svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
							</svg>
						</button>
					</div>
				</div>
			</div>

			<div class="transition-all duration-400 ease-in-out overflow-hidden md:hidden hidden" :class="{ 'block': menu, 'hidden': !menu }">
				<div class="pt-2 pb-3 space-y-1">
					<a href="" class="block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-primary-200 hover:text-white">Home</a>
					<a href="" class="block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-primary-200 hover:text-white">Manage Encounters</a>
					<a href="" class="block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-primary-200 hover:text-white">Manage Players</a>
					<a href="" class="block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-primary-200 hover:text-white">Run Encounters</a>
					<a href="" class="block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-primary-200 hover:text-white">Fantasy Calendar</a>
					<a href="" class="block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-primary-200 hover:text-white">About</a>
				</div>
			</div>
		</nav>

		<div class="flex py-4 sm:py-6 lg:py-8 max-w-screen">
			<div class="hidden md:flex flex-col pl-4 sm:pl-6 lg:pl-8 flex-shrink-0 w-[25rem] xl:w-[30rem] min-h-full">
				<div class="flex flex-col w-full border-b dark:border-gray-700 pb-4">
					<div class="flex w-full flex-col">
						<span class="text-2xl mb-2">Group</span>

						<div class="flex mb-2">
							<div class="w-16">
								<label class="block font-medium text-gray-700 dark:text-gray-300">Players</label>
							</div>
							<div class="w-16 ml-4">
								<label class="block font-medium text-gray-700 dark:text-gray-300">Level</label>
							</div>
						</div>

						<template x-for="(group, index) in party.groups">
							<div class="flex mb-2">
								<div class="w-16">
									<input type="number" min="1" x-model="group.players" class="shadow-sm focus:ring-emerald-500 focus:border-emerald-500 block w-full sm:text-sm disabled:text-gray-500 disabled:bg-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400 text-gray-600 rounded-md" value="4">
								</div>

								<div class="w-16 mx-4">
									<input type="number" min="1" max="20" x-model="group.level" class="shadow-sm focus:ring-emerald-500 focus:border-emerald-500 block w-full sm:text-sm disabled:text-gray-500 disabled:bg-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400 text-gray-600 rounded-md" value="4">
								</div>

								<button @click="party.remove_group(index)" x-show="index > 0" type="button" class="inline-flex items-center px-3 py-1 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none">
									<i class="fas fa-times"></i>
								</button>
							</div>
						</template>

						<div>
							<button @click="party.add_group()" type="button" class="button-secondary-md align-self-start">
								<i class="fas fa-plus mr-2"></i> Add Another Level
							</button>
						</div>
					</div>

					<div class="flex w-full flex-reverse justify-between text-right leading-10 mt-2 flex-1 h-full">
						<div>
							<p class="font-semibold" x-show="encounter.actualDifficulty !== 'None' && encounter.actualDifficulty !== 'Nuisance'" x-text="encounter.actualDifficulty + ' ' + formatNumber(party.experience[encounter.actualDifficulty.toLowerCase()]) + ' exp'"></p>
						</div>
						<div>
							Daily budget <span x-text="formatNumber(party.experience.daily) + ' exp'"></span>
						</div>
					</div>
				</div>

				<div class="flex-col mt-2">
					<span class="text-2xl grow">Encounter</span>

					<div class="mt-4 flex w-full space-x-2 items-end justify-between pb-4 border-b dark:border-gray-700">
						<div class="grid gap-2 w-full place-items-end grid-cols-8 grow">
							<div class="w-full col-span-3 xl:col-span-4">
								<label id="difficulty-label" class="block text-sm font-medium text-gray-700 dark:text-gray-300"> Difficulty </label>
								<div class="mt-1 relative" @click.outside="difficultySelectOpen = false">
									<button @click="difficultySelectOpen = true" type="button" class="bg-white dark:bg-gray-700 relative w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm" aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label">
										<span class="block truncate" x-text="(difficulty.slice(0,1).toUpperCase() + difficulty.slice(1))"></span>
										<span class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
									<!-- Heroicon name: solid/selector -->
									<svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
									  <path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
									</svg>
								  </span>
									</button>

									<ul x-show="difficultySelectOpen" class="absolute z-10 mt-1 w-full bg-white dark:bg-gray-700 shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm" tabindex="-1" role="listbox" aria-labelledby="listbox-label" aria-activedescendant="listbox-option-3"
										x-transition:enter=""
										x-transition:enter-start=""
										x-transition:enter-end=""
										x-transition:leave="transition ease-in duration-100"
										x-transition:leave-start="opacity-100"
										x-transition:leave-end="opacity-0"
									>
										<template x-for="option of ['easy', 'medium', 'hard', 'deadly']">
											<!--
                                              Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.

                                              Highlighted: "text-white bg-emerald-600", Not Highlighted: "text-gray-900"
                                            -->
											<li @click="difficulty = option; difficultySelectOpen = false;" :class="{ 'text-white bg-emerald-600': difficulty === option, 'text-gray-900 dark:text-gray-300': difficulty !== option }" class="group text-gray-900 hover:text-white hover:bg-emerald-600 cursor-default select-none relative py-2 pl-3 pr-9" id="listbox-option-0" role="option">
												<!-- Selected: "font-semibold", Not Selected: "font-normal" -->
												<span class="group-hover:text-white font-normal block truncate" x-html="(option.slice(0,1).toUpperCase() + option.slice(1))"> </span>
												<span :class="{ 'text-gray-200': difficulty === option, 'text-gray-600 dark:text-gray-400': difficulty !== option }" class="text-xs group-hover:text-gray-200" x-text="formatNumber(party.experience[option]) + 'xp'"></span>

											<span x-show="difficulty === option" :class="{ 'text-white': difficulty === option, 'text-emerald-600': difficulty !== option }" class="absolute inset-y-0 right-0 flex items-center pr-4">
										  <!-- Heroicon name: solid/check -->
											  <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
												<path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
											  </svg>
										</span>
											</li>
										</template>
									</ul>
								</div>
							</div>

							<!-- This example requires Tailwind CSS v2.0+ -->
							<div class="w-full col-span-5 xl:col-span-4">
								<label id="listbox-label" class="block text-sm font-medium text-gray-700 dark:text-gray-300"> Composition </label>
								<div class="mt-1 relative" @click.outside="encounterTypeSelectOpen = false">
									<button @click="encounterTypeSelectOpen = true" type="button" class="bg-white dark:bg-gray-700 relative w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm" aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label">
										<span class="block truncate" x-text="encounterTypes[encounterType].label"></span>
										<span class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
									<!-- Heroicon name: solid/selector -->
									<svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
									  <path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
									</svg>
								  </span>
									</button>

									<ul x-show="encounterTypeSelectOpen" class="absolute z-10 mt-1 w-full bg-white dark:bg-gray-700 shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm" tabindex="-1" role="listbox" aria-labelledby="listbox-label" aria-activedescendant="listbox-option-3"
										x-transition:enter=""
										x-transition:enter-start=""
										x-transition:enter-end=""
										x-transition:leave="transition ease-in duration-100"
										x-transition:leave-start="opacity-100"
										x-transition:leave-end="opacity-0"
									>
										<template x-for="type of Object.values(encounterTypes)">
											<!--
                                              Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.

                                              Highlighted: "text-white bg-emerald-600", Not Highlighted: "text-gray-900"
                                            -->
											<li @click="encounterType = type.key; encounterTypeSelectOpen = false;" :class="{ 'text-white bg-emerald-600': encounterType === type.key, 'text-gray-900 dark:text-gray-300': encounterType !== type.key }" class="text-gray-900 hover:text-white hover:bg-emerald-600 cursor-default select-none relative py-2 pl-3 pr-9" id="listbox-option-0" role="option">
												<!-- Selected: "font-semibold", Not Selected: "font-normal" -->
												<span class="font-normal block truncate" x-text="type.label"> </span>

												<span :class="{ 'text-white': encounterType === type.key, 'text-emerald-600': encounterType !== type.key }" class="absolute inset-y-0 right-0 flex items-center pr-4">
										  <!-- Heroicon name: solid/check -->
										  <svg x-show="encounterType === type.key" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
											<path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
										  </svg>
										</span>
											</li>
										</template>
									</ul>
								</div>
							</div>
						</div>

						<div>
							<button @click="encounter.generateRandom()" class="button-primary-md">
								<span class="hidden xl:inline">
									Generate
								</span>
								<span class="xl:hidden">
									<i class="fa fa-refresh"></i>
								</span>
							</button>
						</div>
					</div>

					<div class="flex-row">
						<template x-for="(group, index) in encounter.groups" :key="group.monster.slug">
							<div class="flex flex-row w-full my-4 relative">
								<div class="grow pb-2 min-w-0">
									<div>
										<span class="text-xl font-semibold" x-text="group.monster.name"></span>
										<div @click="encounter.getNewMonster(group)" class="ml-2 inline-flex text-gray-500 hover:text-gray-700 dark:text-gray-500 dark:hover:text-gray-200 cursor-pointer"><i class="fas fa-random"></i></div>
									</div>

									<div>
										<span class="text-lg" x-text="'CR: ' + group.monster.cr.string"></span>
										<span class="text-lg ml-4" x-text="'XP: ' + formatNumber(group.monster.cr.exp)"></span>
										<div class='overflow-hidden whitespace-nowrap overflow-ellipsis pr-40'>
											<ul class="list-none text-s italic max-w-full">
											<template x-for="source in group.monster.sources">
												<li class="max-w-full truncate" x-html="source.link ? `<a class='primary-link' href='${source.link}' target='_blank'>${source.fullText}</a>` : source.fullText"></li>
											</template>
											</ul>
										</div>
									</div>
								</div>
								<div class="absolute bottom-3 right-0 flex shrink-0 items-center">
									<div class="flex rounded-md shadow-sm">
										<button @click="encounter.addCount(index)" class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 dark:border-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 text-gray-500 sm:text-sm">
											<i class="fa fa-plus"></i>
										</button>
										<input type="number" min="1" id="company-website" class="flex-1 min-w-0 block w-16 px-3 py-2 rounded-none dark:bg-gray-700 dark:border-gray-600 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300" x-model="group.count">
										<button @click="encounter.subtractCount(index)" class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 dark:border-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 text-gray-500 sm:text-sm">
											<i class="fa fa-minus"></i>
										</button>
									</div>
								</div>
							</div>
						</template>
					</div>

					<div class="flex border-t text-2xl border-t-gray-400 dark:border-gray-700 pt-4" x-show="encounter.groups.length">
						<div class="grow">
							<div x-text="'Difficulty: ' + encounter.actualDifficulty"></div>
							<div class="text-sm" x-show="encounter.difficultyFeel" x-text="encounter.difficultyFeel"></div>
						</div>
						<div class="text-right">
							<span class="block">
								<span x-text="'Total XP: ' + encounter.totalExp"></span>
								<span class="text-base italic block" x-text="'(' + Math.round(encounter.totalExp / party.totalPlayers) + ' per player)'"></span>
							</span>
							<span class="block">
								<span x-text="'Adjusted XP: ' + encounter.adjustedExp"></span>
								<span class="text-base italic block" x-text="'(' + Math.round(encounter.adjustedExp / party.totalPlayers) + ' per player)'"></span>
							</span>
						</div>
					</div>
				</div>
			</div>

			<div class="grow">
				<label for="search" class="max-w-full block text-sm font-medium text-gray-700 sr-only">Search monsters</label>

				<div class="max-w-full mt-1 flex rounded-md shadow-sm px-4 sm:px-6 lg:px-8">
					<div class="relative flex items-stretch flex-grow focus-within:z-10">
						<div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
							<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
								<path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
							</svg>
						</div>

						<input type="search" name="search" id="search" x-model="search" @input.debounce="updateFilteredMonsters" class="border-gray-300 focus:ring-emerald-500 focus:border-emerald-500 block w-full rounded-none rounded-l-md pl-10 sm:text-sm disabled:text-gray-500 disabled:bg-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400 text-gray-600" :placeholder="searchPlaceholder">
					</div>
					<div class="relative inline-block text-left" x-data="{ filtersMenu: true }">
						<div>
							<button @click="showFilters =! showFilters" type="button" class="-ml-px relative inline-flex items-center space-x-2 px-4 py-2 border border-gray-300 text-sm font-medium rounded-r-md bg-white disabled:text-gray-500 disabled:bg-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400 text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500">
								<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
									<path stroke-linecap="round" stroke-linejoin="round" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
								</svg>
								<span>Filter</span>
								<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-300 text-gray-800" x-show="nonDefaultFiltersCount > 0" x-text="nonDefaultFiltersCount"></span>
							</button>
						</div>
					</div>
				</div>

				<!-- This example requires Tailwind CSS v2.0+ -->
				<div class="px-4 sm:px-6 lg:px-8">

					<div class="-mx-4 mt-8 overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:-mx-6 md:mx-0 md:rounded-lg">
						<table class="min-w-full divide-y divide-gray-300 dark:divide-gray-600">
							<thead class="bg-gray-50 dark:bg-gray-700">
							<tr>
								<th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6">
									<span class="sr-only">Add to encounter</span>
								</th>
								<th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold uppercase text-gray-500 dark:text-gray-300 sm:pl-6">Name</th>
								<th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold uppercase text-gray-500 dark:text-gray-300 sm:table-cell">Size</th>
								<th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold uppercase text-gray-500 dark:text-gray-300 sm:table-cell">CR</th>
								<th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold uppercase text-gray-500 dark:text-gray-300 lg:table-cell">Type</th>
								<th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold uppercase text-gray-500 dark:text-gray-300 lg:table-cell">Alignment</th>
								<th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold uppercase text-gray-500 dark:text-gray-300 xl:table-cell">Source</th>
							</tr>
							</thead>
							<tbody class="divide-y divide-gray-200 dark:divide-gray-600 bg-white dark:bg-gray-900">
								<template x-for="monster in monsters">
									<tr class="odd:bg-gray-50 even:bg-gray-100 dark:odd:bg-gray-700 dark:even:bg-gray-800">
										<td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-300 text-center">
											<span class="primary-link cursor-pointer select-none" @click="encounter.addMonster(monster)">Add</span>
										</td>
										<td class="w-full max-w-0 py-4 pl-4 pr-3 text-sm font-medium text-gray-900 dark:text-gray-100 sm:w-auto sm:max-w-none sm:pl-6">
											<span x-text="monster.name"></span>
											<dl class="font-normal xl:hidden">
												<dt class="sr-only">Sources</dt>
												<dd class="mt-1 truncate text-gray-500"
													x-text="monster.sources.map(source => source.shortText).join(', ')"
													:title="monster.sources.map(source => source.fullText).join('\n')">
												</dd>
												<dt class="sr-only sm:hidden">Size</dt>
												<dd class="mt-1 truncate text-gray-500 dark:text-gray-500 sm:hidden" x-text="monster.size"></dd>
												<dt class="sr-only sm:hidden">CR</dt>
												<dd class="mt-1 truncate text-gray-500 dark:text-gray-500 sm:hidden">CR <span x-text="monster.cr.string"></span></dd>
												<dt class="sr-only sm:hidden">Alignment</dt>
												<dd class="mt-1 truncate text-gray-500 dark:text-gray-500 lg:hidden" x-text="monster.alignment.string"></dd>
												<dt class="sr-only sm:hidden">Type</dt>
												<dd class="mt-1 truncate text-gray-500 dark:text-gray-500 lg:hidden" x-text="monster.type"></dd>
											</dl>
										</td>
										<td class="hidden px-3 py-4 text-sm text-gray-500 dark:text-gray-300 sm:table-cell" x-text="monster.size"></td>
										<td class="hidden px-3 py-4 text-sm text-gray-500 dark:text-gray-300 sm:table-cell" x-text="monster.cr.string"></td>
										<td class="hidden px-3 py-4 text-sm text-gray-500 dark:text-gray-300 lg:table-cell" x-text="monster.type"></td>
										<td class="hidden px-3 py-4 text-sm text-gray-500 dark:text-gray-300 lg:table-cell" x-text="monster.alignment.string"></td>
										<td class="hidden px-3 py-4 text-sm text-gray-500 dark:text-gray-300 xl:table-cell"
											x-text="monster.sources.map(source => source.shortText).join(', ')"
											:title="monster.sources.map(source => source.fullText).join('\n')"
										>
									</tr>
								</template>
							</tbody>
						</table>
					</div>

					<!-- This example requires Tailwind CSS v2.0+ -->
					<nav x-show="totalPages > 1" x-cloak class="border-t border-gray-300 mt-4 dark:border-gray-700 px-4 flex items-center justify-between sm:px-0">
						<div class="-mt-px w-0 flex-1 flex">
							<a @click="setPageNumber(currentPage-1)" :disabled="currentPage === 1" href="#" class="border-t-2 border-transparent pt-4 px-2 lg:pr-1 lg:pl-0 inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-400 hover:border-gray-400">
								<!-- Heroicon name: solid/arrow-narrow-left -->
								<svg class="mr-3 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
									<path fill-rule="evenodd" d="M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z" clip-rule="evenodd" />
								</svg>
								<span class="hidden lg:inline">Previous</span>
							</a>
						</div>
						<div class="hidden md:-mt-px md:flex">
							<template x-for="page of pagination">
								<span :class="{
									'cursor-pointer select-none border-emerald-600 text-emerald-600 border-t-2 pt-4 px-4 inline-flex items-center text-sm font-medium': page.active && !page.divider,
									'cursor-pointer select-none border-transparent text-gray-500 hover:text-gray-400 hover:border-gray-400 border-t-2 pt-4 px-4 inline-flex items-center text-sm font-medium hidden lg:inline-block first-of-type:inline-block last-of-type:inline-block': !page.active && !page.divider,
									'select-none border-transparent text-gray-500 border-t-2 pt-4 px-4 inline-flex items-center text-sm font-medium': page.divider,
								}" x-text="page.divider ? '...' : page.number" @click="setPage(page)" :key="page.number"></span>
							</template>
						</div>
						<div class="-mt-px w-0 flex-1 flex justify-end">
							<a href="#" @click="setPageNumber(currentPage+1)" class="border-t-2 border-transparent pt-4 px-2 lg:pr-1 lg:pl-0 inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-400 hover:border-gray-400">
								<span class="hidden lg:inline">Next</span>
								<!-- Heroicon name: solid/arrow-narrow-right -->
								<svg class="ml-3 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
									<path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
								</svg>
							</a>
						</div>
					</nav>
				</div>

			</div>
		</div>

		<div class="fixed inset-0 z-50 overflow-hidden" aria-labelledby="slide-over-title" role="dialog" aria-modal="true" x-show="showFilters" x-cloak>
			<div class="absolute inset-0 overflow-hidden">
				<!-- Background overlay, show/hide based on slide-over state. -->
				<div @click="showFilters = false" class="absolute inset-0 bg-gray-500 dark:bg-gray-900 dark:bg-opacity-75 bg-opacity-75 transition-opacity" aria-hidden="true"
					 x-transition:enter="ease-in-out duration-200"
					 x-transition:enter-start="opacity-0"
					 x-transition:enter-end="opacity-100"
					 x-transition:leave="ease-in-out duration-200"
					 x-transition:leave-start="opacity-100"
					 x-transition:leave-end="opacity-0"
					 x-show="showFilters"
				></div>

				<div class="pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10">
					<div class="pointer-events-auto w-screen max-w-md"
						 x-transition:enter="transform transition ease-in-out duration-200 sm:duration-700"
						 x-transition:enter-start="translate-x-full"
						 x-transition:enter-end="translate-x-0"
						 x-transition:leave="transform transition ease-in-out duration-200 sm:duration-700"
						 x-transition:leave-start="translate-x-0"
						 x-transition:leave-end="translate-x-full"
						 x-show="showFilters"
					>
						<div class="relative flex max-h-screen h-full flex-col overflow-y-hidden bg-white dark:bg-gray-800 shadow-xl">
							<div class="px-4 sm:px-6 border-b dark:border-gray-700 py-6">
								<div class="flex items-start justify-between">
									<h2 class="text-lg font-medium text-gray-900 dark:text-gray-200" id="slide-over-title">Filter monsters</h2>
									<div class="ml-3 flex h-7 items-center">
										<button @click="showFilters = false" type="button" class="rounded-md bg-white dark:bg-gray-800 text-gray-400 dark:text-gray-500 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2">
											<span class="sr-only">Close panel</span>
											<!-- Heroicon name: outline/x -->
											<svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
											</svg>
										</button>
									</div>
								</div>
							</div>
							<div class="flex h-full flex-col relative flex-1 px-4 py-6 sm:px-6 space-y-4 overflow-y-auto">
								<div>
									<button @click="showSourcesModal = true" class="button-primary-md">
										Manage Sources
									</button>
								</div>

								<div x-data="{ minCr: 0, maxCr: 0 }">
									<div class="block font-medium text-gray-700 dark:text-gray-300 mb-1">
										Challenge Rating
									</div>

									<div class="relative px-6 pt-1 pb-2 bg-white border border-gray-300 dark:bg-gray-700 dark:border-gray-600 rounded-md">

										<div x-ref="cr_slider" class="my-4 mx-2" x-data="multiSlider($el, 'challenge_rating', [
														{ value: '0', label: '0' },
														{ value: '1/8', label: '1/8' },
														{ value: '1/4', label: '1/4' },
														{ value: '1/2', label: '1/2' },
														{ value: '1', label: '1' },
														{ value: '2', label: '2' },
														{ value: '3', label: '3' },
														{ value: '4', label: '4' },
														{ value: '5', label: '5' },
														{ value: '6', label: '6' },
														{ value: '7', label: '7' },
														{ value: '8', label: '8' },
														{ value: '9', label: '9' },
														{ value: '10', label: '10' },
														{ value: '11', label: '11' },
														{ value: '12', label: '12' },
														{ value: '13', label: '13' },
														{ value: '14', label: '14' },
														{ value: '15', label: '15' },
														{ value: '16', label: '16' },
														{ value: '17', label: '17' },
														{ value: '18', label: '18' },
														{ value: '19', label: '19' },
														{ value: '20', label: '20' },
														{ value: '21', label: '21' },
														{ value: '22', label: '22' },
														{ value: '23', label: '23' },
														{ value: '24', label: '24' },
														{ value: '25', label: '25' },
														{ value: '26', label: '26' },
														{ value: '27', label: '27' },
														{ value: '28', label: '28' },
														{ value: '29', label: '29' },
														{ value: '30', label: '30' }
													], (lower, upper) => {
														minCr = lower;
														maxCr = upper;
													})"
											 @set-cr-slider.window="set($event)"
											 @reset-cr-slider.window="reset()"
											 @reset-filters.window="reset()"
										></div>

										<div class="grid place-items-center">
											<div x-show="minCr.value == 0 && maxCr.value == 30">Any CR</div>
											<div x-show="(minCr.value != 0 || maxCr.value != 30) && (minCr.value !== maxCr.value)">
												CR between <span x-text="minCr.label"></span> and <span x-text="maxCr.label"></span>
											</div>
											<div x-show="minCr.value == maxCr.value">CR is exactly <span x-text="minCr.label"></span></div>
										</div>

										<span @click="$dispatch('reset-cr-slider')" x-show="!(minCr.value == 0 && maxCr.value == 30)" class="absolute bottom-1 right-6 cursor-pointer">
													<i class="fa fa-undo h-6 w-6 text-gray-800 dark:text-gray-300"></i>
												</span>
									</div>
								</div>


								<div>
									<div class="block font-medium text-gray-700 dark:text-gray-300 mb-1">
										Alignment
									</div>

									<div class="grid grid-cols-[12px_12px_repeat(12,_minmax(0,_1fr))] divide divide-gray-200 dark:divide-gray-600 gap-2 rounded-md bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 overflow-hidden p-2" x-data="{
												lawful_good: 1,
												neutral_good: 2,
												chaotic_good: 4,
												lawful_neutral: 8,
												neutral: 16,
												chaotic_neutral: 32,
												lawful_evil: 64,
												neutral_evil: 128,
												chaotic_evil: 256,
												total: $persist(1023).as('alignment'),
												randomIconIndex: 0,
												icons: [
														'fa-solid fa-dumpster-fire',
														'fa-solid fa-poo-storm',
														'fa-solid fa-meteor',
														'fa-solid fa-arrows-split-up-and-left',
														'fa-solid fa-arrows-turn-to-dots',
														'fa-solid fa-candy-cane',
														'fa-solid fa-stroopwafel',
														'fa-solid fa-cake-candles',
														'fa-solid fa-bowling-ball',
														'fa-solid fa-bath',
														'fa-solid fa-bomb',
														'fa-solid fa-business-time',
														'fa-solid fa-dragon',
														'fa-solid fa-arrow-up-right-dots',
														'fa-solid fa-fire',
														'fa-solid fa-arrows-to-circle',
														'fa-solid fa-cloud-meatball',
														'fa-solid fa-arrows-down-to-people',
														'fa-solid fa-person-walking-arrow-loop-left',
														'fa-solid fa-person-walking-dashed-line-arrow-right',
													],
												init() {
													this.$watch('total', (total) => {
														let newIndex = Math.floor(Math.random() * this.icons.length);
														this.randomIconIndex = (newIndex === this.randomIconIndex) ? (newIndex + 1) % this.icons.length : newIndex;
														this.onFiltersChanged();
													});
													this.onFiltersChanged();
												},
												onFiltersChanged() {
													window.dispatchEvent(new CustomEvent('filters-changed', { detail: { name: 'alignment', value: this.total }}));
												},
												get randomIcon() {
													return this.icons[this.randomIconIndex];
												},
												toggle(value) {
													this.total = ((this.total & value) > 0) ? ((this.total | value) ^ value) : (this.total | value);
												},
												classes(value) {
													return {
														'bg-emerald-600 dark:bg-emerald-800 dark:hover:bg-emerald-900': this.total & value,
														'bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 border': !(this.total & value),
														'cursor-pointer grid place-items-center text-center select-none text-gray-900 dark:text-white': true,
													};
												},
												reset(){
													this.total = 1023;
												}
											}" @reset-filters.window="reset()">
										<div @click="toggle((lawful_good | neutral | chaotic_evil))" :class="classes(lawful_good | neutral | chaotic_evil)" class="col-span-2 rounded-tl-md dark:border-gray-600"></div>
										<div @click="toggle((lawful_good | lawful_neutral | lawful_evil))" :class="classes(lawful_good | lawful_neutral | lawful_evil)" class="col-span-4 h-8 rounded-t-md"><i class="fa fa-gavel"></i></div>
										<div @click="toggle((neutral_good | neutral | neutral_evil))" :class="classes(neutral_good | neutral | neutral_evil)" class="col-span-4 h-8 rounded-t-md"><i class="fa fa-scale-balanced"></i></div>
										<div @click="toggle((chaotic_good | chaotic_neutral | chaotic_evil))" :class="classes(chaotic_good | chaotic_neutral | chaotic_evil)" class="col-span-4 h-8 rounded-t-md"><i :class="{ [randomIcon]: true }"></i></div>

										<div @click="toggle((lawful_good | neutral_good | chaotic_good))" :class="classes(lawful_good | neutral_good | chaotic_good)" class="col-span-2 w-8 rounded-l-md"><i class="fa fa-dove"></i></div>
										<div @click="toggle(lawful_good)" :class="classes(lawful_good)" class="col-span-4 h-16" title="Lawful Good">LG</div>
										<div @click="toggle(neutral_good)" :class="classes(neutral_good)" class="col-span-4 h-16" title="Neutral Good">NG</div>
										<div @click="toggle(chaotic_good)" :class="classes(chaotic_good)" class="col-span-4 h-16" title="Chaotic Good">CG</div>

										<div @click="toggle((lawful_neutral | neutral | chaotic_neutral))" :class="classes(lawful_neutral | neutral | chaotic_neutral)" class="col-span-2 w-8 rounded-l-md"><i class="fa fa-face-meh"></i></div>
										<div @click="toggle(lawful_neutral)" :class="classes(lawful_neutral)" class="col-span-4 h-16" title="Lawful Neutral">LN</div>
										<div @click="toggle(neutral)" :class="classes(neutral)" class="col-span-4 h-16" title="Neutral">N</div>
										<div @click="toggle(chaotic_neutral)" :class="classes(chaotic_neutral)" class="col-span-4 h-16" title="Chaotic Neutral">CN</div>

										<div @click="toggle((lawful_evil | neutral_evil | chaotic_evil))" :class="classes(lawful_evil | neutral_evil | chaotic_evil)" class="col-span-2 w-8 rounded-l-md"><i class="fa fa-skull"></i></div>
										<div @click="toggle(lawful_evil)" :class="classes(lawful_evil)" class="col-span-4 h-16" title="Lawful Evil">LE</div>
										<div @click="toggle(neutral_evil)" :class="classes(neutral_evil)" class="col-span-4 h-16" title="Neutral Evil">NE</div>
										<div @click="toggle(chaotic_evil)" :class="classes(chaotic_evil)" class="col-span-4 h-16" title="Chaotic Evil">CE</div>

										<div @click="toggle((lawful_evil | neutral | chaotic_good))" :class="classes(lawful_evil | neutral | chaotic_good)" class="col-span-2 rounded-bl-md"></div>
										<div @click="total = (total === 1023) ? 0 : 1023" :class="{ 'bg-emerald-600 dark:bg-emerald-800 dark:hover:bg-emerald-900': (total & 1023) === 1023, 'bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 border': (total & 1023) !== 1023 }" class="select-none text-gray-900 dark:text-white col-span-6 cursor-pointer grid place-items-center h-8 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 border">Any</div>
										<div @click="total = total ^ 512" :class="{ 'bg-emerald-600 dark:bg-emerald-800 dark:hover:bg-emerald-900': (total & 512) === 512, 'bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 border': (total & 512) !== 512 }" class="select-none text-gray-900 dark:text-white rounded-br-md col-span-6 cursor-pointer grid place-items-center h-8 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 border">Unaligned</div>
									</div>
								</div>


								<!-- Multi Select -->
								<div>
									<div class="block font-medium text-gray-700 dark:text-gray-300 mb-1">Size category</div>

									<div @mousedown.stop x-data="multiSelect($refs.sizes, 'size', [
												{value: 'any', label: 'Any Size' },
												{value: 'tiny', label: 'Tiny' },
												{value: 'small', label: 'Small' },
												{value: 'medium', label: 'Medium' },
												{value: 'large', label: 'Large' },
												{value: 'huge', label: 'Huge' },
												{value: 'gargantuan', label: 'Gargantuan' }
											])" @reset-filters.window="reset()">
										<select x-ref="sizes" :multiple="multiple" class="inline-block mb-2 mr-2 mt-1 w-auto pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md"></select>
									</div>
								</div>

								<div>
									<div class="block font-medium text-gray-700 dark:text-gray-300 mb-1">Creature type</div>

									<div @mousedown.stop x-data="multiSelect($refs.creature_type, 'type', [
												{ value: 'any', label: 'Any Type' },
												{ value: 'aberration', label: 'Aberration' },
												{ value: 'beast', label: 'Beast' },
												{ value: 'celestial', label: 'Celestial' },
												{ value: 'construct', label: 'Construct' },
												{ value: 'dragon', label: 'Dragon' },
												{ value: 'elemental', label: 'Elemental' },
												{ value: 'fey', label: 'Fey' },
												{ value: 'fiend', label: 'Fiend' },
												{ value: 'giant', label: 'Giant' },
												{ value: 'humanoid', label: 'Humanoid' },
												{ value: 'monstrosity', label: 'Monstrosity' },
												{ value: 'ooze', label: 'Ooze' },
												{ value: 'plant', label: 'Plant' },
												{ value: 'undead', label: 'Undead' },
											])" @reset-filters.window="reset()">
										<select x-ref="creature_type" multiple class="inline-block mb-2 mr-2 mt-1 w-auto pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md"></select>
									</div>
								</div>

								<div>
									<div class="block font-medium text-gray-700 dark:text-gray-300 mb-1">Native environment</div>

									<div @mousedown.stop x-data="multiSelect($refs.environment, 'environment', [
												{ value: 'any', label: 'Any Environment' },
												{ value: 'aquatic', label: 'Aquatic' },
												{ value: 'arctic', label: 'Arctic' },
												{ value: 'cave', label: 'Cave' },
												{ value: 'coast', label: 'Coast' },
												{ value: 'desert', label: 'Desert' },
												{ value: 'dungeon', label: 'Dungeon' },
												{ value: 'forest', label: 'Forest' },
												{ value: 'grassland', label: 'Grassland' },
												{ value: 'mountain', label: 'Mountain' },
												{ value: 'planar', label: 'Planar' },
												{ value: 'ruins', label: 'Ruins' },
												{ value: 'swamp', label: 'Swamp' },
												{ value: 'underground', label: 'Underground' },
												{ value: 'urban', label: 'Urban' },
											])" @reset-filters.window="reset()">
										<select x-ref="environment" multiple class="inline-block mb-2 mr-2 mt-1 w-auto pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md"></select>
									</div>
								</div>

								<div>
									<div class="block font-medium text-gray-700 dark:text-gray-300 mb-1">Legendary Status</div>

									<div @mousedown.stop x-data="multiSelect($refs.legendary, 'legendary', [
												{ value: 'any', label: 'Any Legendary'},
												{ value: 'ordinary', label: 'Ordinary'},
												{ value: 'legendary', label: 'Legendary'},
												{ value: 'legendary_lair', label: 'Legendary (in lair)'},
											])" @reset-filters.window="reset()">
										<select x-ref="legendary" multiple class="inline-block mb-2 mr-2 mt-1 w-auto pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm rounded-md"></select>
									</div>
								</div>
							</div>

							<div class="justify-self-end"
								 x-transition:enter="transform transition ease-in-out duration-200 sm:duration-700"
								 x-transition:enter-start="translate-y-full"
								 x-transition:enter-end="translate-y-0"
								 x-transition:leave="transform transition ease-in-out duration-200 sm:duration-700"
								 x-transition:leave-start="translate-y-0"
								 x-transition:leave-end="translate-y-full"
								 x-show="nonDefaultFiltersCount"
							>
								<div class="w-full px-6 py-6 border-t border-gray-200 dark:border-gray-700">
									<button @click="$dispatch('reset-filters')" class="w-full button-secondary-md grid place-items-center text-center">
										<span class="inline-block w-full"><i class="fa fa-undo pr-1"></i> Reset Filters</span>
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>


		<!-- This example requires Tailwind CSS v2.0+ -->
		<div x-show="showSourcesModal" class="fixed z-50 inset-0 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
			<div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
				<div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"
					 x-show="showSourcesModal"
					 x-transition:enter="ease-out duration-300"
					 x-transition:enter-start="opacity-0"
					 x-transition:enter-end="opacity-100"
					 x-transition:leave="ease-in duration-200"
					 x-transition:leave-start="opacity-100"
					 x-transition:leave-end="opacity-0"
				></div>

				<!-- This element is to trick the browser into centering the modal contents. -->
				<span x-show="showSourcesModal" class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>

				<div class="relative inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"
					 x-show="showSourcesModal"
					 x-transition:enter="ease-out duration-300"
					x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
					x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
					x-transition:leave="ease-in duration-200"
					x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
					x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
				>
					<div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
						<div class="sm:flex sm:items-start">
							<div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-emerald-100 sm:mx-0 sm:h-10 sm:w-10">
								<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-emerald-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
									<path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" />
								</svg>
							</div>
							<div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
								<h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">Select your sources</h3>
								<div class="mt-2">

									<template x-for="type of sourcesByType">
										<h4 class="font-bold text-gray-900 leading-6 mb-2" x-text="type.title"></h4>

										<div class="grid md:grid-cols-2 w-full">
											<template x-for="source of type.values">
												<div>
													<button @click="source.enabled =! source.enabled" :class="{ 'button-secondary-md': !source.enabled, 'button-primary-md': source.enabled }" x-text="source.name"></button>
												</div>
											</template>
										</div>
									</template>

								</div>
							</div>
						</div>
					</div>
					<div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
						<button @click="showSourcesModal = false" type="button" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-emerald-600 text-base font-medium text-white hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 sm:ml-3 sm:w-auto sm:text-sm">Done</button>
<!--						<button type="button" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">Cancel</button>-->
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
